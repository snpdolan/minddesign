{"version":3,"sources":["actions/index.js","cache/index.js","components/Canvas.js","three.js","components/Shape.js","components/WorkingShape.js","components/App.js","reducers/index.js","reducers/shapeReducer.js","reducers/canvasReducer.js","index.js"],"names":["updateDrawing","svgString","dispatch","axios","post","data","then","response","type","payload","catch","error","console","log","renderDrawing","queryObject","queryUrl","concat","queryString","fileString","extrude","length","get","CacheManager","writeData","key","localforage","setItem","readData","getItem","removeData","removeItem","clear","Canvas","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","sigPad","setState","svgDataURL","toDataURL","mySVG","state","split","atob","cache","_this2","react_default","a","createElement","className","build_default","ref","penColor","backgroundColor","canvasProps","width","height","minwidth","maxwidth","mindistance","throttle","onClick","Component","connect","timeStamp","bindActionCreators","window","THREE","require","scene","Scene","background","Color","threeWidth","threeHeight","helper","GridHelper","rotation","x","Math","PI","add","innerWidth","innerHeight","camera","PerspectiveCamera","position","set","renderer","WebGLRenderer","antialias","setPixelRatio","devicePixelRatio","setSize","OrbitControls","domElement","screenSpacePanning","loader","SVGLoader","animate","requestAnimationFrame","render","onWindowResize","aspect","updateProjectionMatrix","clearThree","obj","children","remove","geometry","dispose","material","texture","arrayToPoints","array","removeZeroArray","filter","point","newArray","i","myPoint","Vector2","push","loadSVG","svgUrl","load","scalarSettings","paths","group","Group","extrudeSettings","depth","steps","bevelEnabled","bevelThickness","bevelSize","bevelSegments","y","scale","multiplyScalar","baseGeometry","CylinderBufferGeometry","baseMaterial","MeshBasicMaterial","color","opacity","transparent","side","FrontSide","depthWrite","cylinder","Mesh","baseHeight","path","fillColor","userData","style","fill","undefined","setStyle","fillOpacity","DoubleSide","shapes","toShapes","j","shape","ShapeBufferGeometry","mesh","strokeColor","stroke","strokeMaterial","strokeOpacity","k","kl","subPaths","strokeGeometry","strokeMesh","threeDGeometry","subPath","pointsToStroke","getPoints","wirePoints","attributes","p","newGeometry","Shape","ExtrudeBufferGeometry","xhr","circle","mount","appendChild","addEventListener","Fragment","e","currentMesh","WorkingShape","BoxGeometry","cube","z","App","components_Shape","components_Canvas","rootReducer","combineReducers","arguments","Date","action","store","createStore","applyMiddleware","thunk","es","react_router_dom","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.b15acb49.chunk.js","sourcesContent":["import axios from \"axios\";\r\nexport const SAVE_DRAWING = 'SAVE_DRAWING';\r\nexport const RENDER_DRAWING = 'RENDER_DRAWING';\r\n\r\nconst ROOT_URL = \"http://localhost:8000/\";\r\n\r\nexport const updateDrawing = (svgString) => dispatch => {\r\n  // console.log(svgString);\r\n  axios.post(`public/sig.svg`,{\r\n    data: svgString\r\n  }).then(function (response) {\r\n    // console.log(response);\r\n    dispatch({ type: SAVE_DRAWING, payload: response.data });\r\n  })\r\n    .catch(function (error) {\r\n      console.log(error);\r\n    });\r\n};\r\n\r\nexport const renderDrawing = (queryObject) => dispatch => {\r\n  let queryUrl = `${ROOT_URL}?`;\r\n  let queryString = ``;\r\n  const { fileString, extrude } = queryObject;\r\n\r\n  if (fileString) {\r\n    queryString += `file=${fileString}&`\r\n  }\r\n\r\n  if (extrude) {\r\n    queryString += `extrude=${extrude}&`\r\n  }\r\n\r\n  if (queryString.length > 0) { queryUrl += queryString };\r\n  axios.get(queryUrl).then(function (response) {\r\n    console.log(response);\r\n    dispatch({ type: RENDER_DRAWING, payload: response.data });\r\n  })\r\n    .catch(function (error) {\r\n      console.log(error);\r\n    });\r\n};","import localforage from 'localforage'\r\n\r\nexport default class CacheManager {\r\n\r\n  writeData = (key, data) => localforage.setItem(key, data)\r\n\r\n  readData = key => localforage.getItem(key)\r\n\r\n  removeData = key => localforage.removeItem(key)\r\n\r\n  clear = () => localforage.clear()\r\n}\r\n","import React, { Component } from 'react';\r\nimport { updateDrawing } from '../actions';\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport CacheManager from '../cache';\r\nimport SignatureCanvas from 'react-signature-canvas';\r\n\r\nclass Canvas extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.cache = new CacheManager();\r\n    this.state = { svgDataURL: null };\r\n    this.sigPad = {};\r\n  }\r\n\r\n\r\n  clear = () => {\r\n    this.sigPad.clear()\r\n  }\r\n\r\n  renderDrawing = () => {\r\n    this.setState({\r\n      svgDataURL: this.sigPad.toDataURL('image/svg+xml')\r\n    }, () => {\r\n        let mySVG = this.state.svgDataURL.split(',');\r\n        this.props.updateDrawing(atob(mySVG[1]));\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className='container float-right'>\r\n        <div className='row'>\r\n          <div className='col-md-12 pr-3'>\r\n            <SignatureCanvas\r\n              ref={(ref) => { this.sigPad = ref }}\r\n              penColor='black'\r\n              backgroundColor='rgb(255,255,255)'\r\n              canvasProps={{\r\n                width: 300,\r\n                height: 300,\r\n                minwidth: 30,\r\n                maxwidth: 35,\r\n                mindistance: 10,\r\n                throttle: 0,\r\n                // dotsize: 20,\r\n                className: 'sigCanvas offset-md-2 mb-2'\r\n              }}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className='row'>\r\n          <div className='col-md-12'>\r\n            <div className='offset-md-4'>\r\n              <button className='btn btn-secondary btn-md' onClick={this.clear}>\r\n                Clear\r\n              </button>|\r\n              <button className='btn btn-success btn-md' onClick={this.renderDrawing}>\r\n                Render\r\n              </button>\r\n\r\n            {/* {this.state.svgDataURL ?\r\n              <img className='thumbnail' src={this.state.svgDataURL} />\r\n              : null} */}\r\n            </div>\r\n          </div>\r\n        </div>  \r\n      </div>\r\n      \r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    // products: state.products,\r\n    timeStamp: state.timeStamp\r\n  };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return bindActionCreators({ updateDrawing}, dispatch);\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Canvas);","import * as THREE from 'three';\r\n\r\nwindow.THREE = THREE; // THREE.NRRDLoader expects THREE to be a global object\r\nrequire('three/examples/js/loaders/SVGLoader');\r\nrequire('three/examples/js/controls/OrbitControls');\r\nrequire('three/examples/jsm/libs/dat.gui.module');\r\n\r\nexport default window.THREE;","import React, { Component } from 'react';\r\nimport { renderDrawing } from '../actions';\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport THREE from \"../three\";\r\n\r\n// === THREE.JS CODE START ===\r\nvar scene = new THREE.Scene();\r\nscene.background = new THREE.Color(0xb0b0b0);\r\n\r\nvar helper = new THREE.GridHelper(160, 10);\r\nhelper.rotation.x = Math.PI / 2;\r\nscene.add(helper);\r\n// console.log(window);\r\n// var camera = new THREE.PerspectiveCamera(75, ((window.innerWidth * 0.5) - (window.innerWidth * 0.1)) / ((window.innerHeight * 0.5)), 0.1, 1000);\r\nvar threeWidth, threeHeight;\r\nif (window.innerWidth <= 768) {\r\n  threeWidth = ((window.innerWidth * 0.7));\r\n  threeHeight = ((window.innerHeight * 0.5));\r\n} else {\r\n  threeWidth = ((window.innerWidth * 0.4));\r\n  threeHeight = ((window.innerHeight * 0.5));\r\n}\r\nvar camera = new THREE.PerspectiveCamera(50, threeWidth / threeHeight, 1, 1000);\r\ncamera.position.set(0, 0, 200);\r\nvar renderer = new THREE.WebGLRenderer({ antialias: true });\r\nrenderer.setPixelRatio(window.devicePixelRatio);\r\nrenderer.setSize(threeWidth, threeHeight);\r\n//add in pan/view options\r\nvar controls = new THREE.OrbitControls(camera, renderer.domElement);\r\ncontrols.screenSpacePanning = true;\r\n\r\nvar guiData = {\r\n  currentURL: '/tiger.svg',\r\n  extrude: false\r\n};\r\n\r\n// instantiate a loader\r\nvar loader = new THREE.SVGLoader();\r\n// console.log(loader);\r\nvar animate = function () {\r\n  requestAnimationFrame(animate);\r\n  renderer.render(scene, camera);\r\n};\r\n\r\nvar onWindowResize = function () {\r\n\r\n  console.log(window.innerWidth)\r\n\r\n  if (window.innerWidth <= 768) {\r\n    threeWidth = ((window.innerWidth * 0.7));\r\n    threeHeight = ((window.innerHeight * 0.5));\r\n  } else {\r\n    threeWidth = ((window.innerWidth * 0.4));\r\n    threeHeight = ((window.innerHeight * 0.5));\r\n  }\r\n\r\n  camera.aspect = threeWidth / threeHeight;\r\n  camera.updateProjectionMatrix();\r\n  renderer.setSize(threeWidth, threeHeight);\r\n}\r\n\r\nvar clearThree = function (obj) {\r\n  while (obj.children.length > 1) {\r\n    clearThree(obj.children[(obj.children.length - 1)])\r\n    obj.remove(obj.children[(obj.children.length - 1)]);\r\n  }\r\n  if (obj.geometry) obj.geometry.dispose()\r\n  if (obj.material) obj.material.dispose()\r\n  if (obj.texture) obj.texture.dispose()\r\n} \r\n\r\nconst arrayToPoints = function(array){\r\n  let removeZeroArray = array.filter(point => { return point !== 0 });  \r\n  let newArray = [];\r\n  for(var i = 0; i < removeZeroArray.length; i+=2){\r\n    let myPoint = new THREE.Vector2(removeZeroArray[i], removeZeroArray[i+1]);\r\n    newArray.push(myPoint);\r\n  }\r\n  return newArray;\r\n}\r\n\r\n// var gui;\r\n\r\n// const createGUI = function() {\r\n//   if (gui) gui.destroy();\r\n//   gui = new THREE.GUI({ width: 350 });\r\n//   gui.add(guiData, 'extrude').name('Extrude?').onChange(update);\r\n//   function update() {\r\n//     loadSVG(guiData.currentURL);\r\n//   }\r\n// }\r\n\r\nvar loadSVG = function (svgUrl, extrude){\r\n  // load a SVG resource\r\n  loader.load(\r\n    // resource URL\r\n    svgUrl,\r\n    // called when the resource is loaded\r\n    function (data) {\r\n\r\n      var paths = data.paths;\r\n      var group = new THREE.Group();\r\n      var scalarSettings;\r\n      var extrudeSettings = {\r\n        depth: 10,\r\n        steps: 1,\r\n        bevelEnabled: false,\r\n        bevelThickness: 2,\r\n        bevelSize: 4,\r\n        bevelSegments: 1\r\n      };\r\n      if (extrude) {\r\n        \r\n        scalarSettings = 0.6;\r\n        group.position.x = -85;\r\n        group.position.y = 85;\r\n      } else {\r\n        scalarSettings = 0.25;\r\n        group.position.x = -70;\r\n        group.position.y = 70;\r\n      }\r\n\r\n      group.scale.multiplyScalar(scalarSettings);\r\n      \r\n      group.scale.y *= - 1;\r\n\r\n    //  console.log(group.scale);\r\n\r\n      for (var i = 0; i < paths.length; i++) {\r\n        //let's add our printing base here!\r\n        if (extrude && i === 0) {\r\n\r\n          var baseRadius = 135;\r\n          var baseHeight = 5;\r\n          var baseGeometry = new THREE.CylinderBufferGeometry(baseRadius, baseRadius, baseHeight, 64);\r\n          var baseMaterial = new THREE.MeshBasicMaterial({\r\n            color: 0x00ffff,\r\n            opacity: 0.3,\r\n            transparent: true,\r\n            side: THREE.FrontSide,\r\n            depthWrite: false\r\n            // wireframe: true\r\n          });\r\n          var cylinder = new THREE.Mesh(baseGeometry, baseMaterial);\r\n          cylinder.position.set(-(group.position.x * (1 + group.scale.x)) + baseHeight, (group.position.y * (1 - group.scale.y)) + baseHeight, baseHeight / 2);\r\n          cylinder.rotation.set(Math.PI / 2, 0, 0);\r\n          group.add(cylinder);\r\n        }\r\n\r\n        var path = paths[i];\r\n        var fillColor = path.userData.style.fill;\r\n\r\n        if (fillColor !== undefined && fillColor !== 'none') {\r\n          var material = new THREE.MeshBasicMaterial({\r\n            color: new THREE.Color().setStyle(fillColor),\r\n            opacity: path.userData.style.fillOpacity,\r\n            transparent: path.userData.style.fillOpacity < 1,\r\n            side: THREE.DoubleSide,\r\n            depthWrite: false\r\n\r\n          });\r\n          var shapes = path.toShapes(true);\r\n          for (var j = 0; j < shapes.length; j++) {\r\n            var shape = shapes[j];\r\n            var geometry = new THREE.ShapeBufferGeometry(shape);\r\n            var mesh = new THREE.Mesh(geometry, material);\r\n            group.add(mesh);\r\n          }\r\n        }\r\n\r\n        var strokeColor = path.userData.style.stroke;\r\n        if (strokeColor !== undefined && strokeColor !== 'none') {\r\n          var strokeMaterial = new THREE.MeshBasicMaterial({\r\n            color: new THREE.Color().setStyle(strokeColor),\r\n            opacity: path.userData.style.strokeOpacity,\r\n            transparent: path.userData.style.strokeOpacity < 1,\r\n            side: THREE.DoubleSide,\r\n            depthWrite: false\r\n            // wireframe: true\r\n          });\r\n\r\n          for (var k = 0, kl = path.subPaths.length; k < kl; k++) {\r\n            var subPath = path.subPaths[k];\r\n            var strokeGeometry, strokeMesh, threeDGeometry;\r\n\r\n            if (extrude) {\r\n              if (k < path.subPaths.length) {\r\n                strokeGeometry = new THREE.SVGLoader.pointsToStroke(subPath.getPoints(), path.userData.style);\r\n                let wirePoints = arrayToPoints(strokeGeometry.attributes.position.array);\r\n                for (var p = 0; p < wirePoints.length; p += 3) {\r\n                  var newGeometry = new THREE.Shape([wirePoints[p], wirePoints[p + 1], wirePoints[p + 2]]);\r\n                  if (newGeometry) {\r\n                    threeDGeometry = new THREE.ExtrudeBufferGeometry(newGeometry, extrudeSettings);\r\n                    strokeMesh = new THREE.Mesh(threeDGeometry, strokeMaterial);\r\n                    group.add(strokeMesh);\r\n                  }\r\n                }\r\n              }\r\n            } \r\n            else {\r\n              if (k < path.subPaths.length ){\r\n                strokeGeometry = new THREE.SVGLoader.pointsToStroke(subPath.getPoints(), path.userData.style);\r\n                if (strokeGeometry) {\r\n                  strokeMesh = new THREE.Mesh(strokeGeometry, strokeMaterial);\r\n                  group.add(strokeMesh);\r\n                }\r\n              }\r\n            } \r\n          }\r\n\r\n          // console.log(group);\r\n          scene.add(group);\r\n        }\r\n      }\r\n\r\n      \r\n    },\r\n    // called when loading is in progresses\r\n    function (xhr) {\r\n      // console.log((xhr.loaded / xhr.total * 100) + '% loaded');\r\n\r\n    },\r\n    // called when loading has errors\r\n    function (error) {\r\n\r\n      console.log('An error happened');\r\n\r\n    }\r\n  );\r\n}\r\n\r\nclass Shape extends Component {\r\n\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      circle: true\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    // // use ref as a mount point of the Three.js scene instead of the document.body\r\n    this.mount.appendChild(renderer.domElement);\r\n    // load a SVG resource\r\n    loadSVG('public/tiger.svg', false);\r\n    // this.props.renderDrawing({\r\n    //   fileString:'tiger', \r\n    //   extrude: 'flat'\r\n    // });\r\n    // scene.add(this.props.currentMesh);\r\n\r\n    window.addEventListener('resize', onWindowResize, false);\r\n    // createGUI();\r\n    animate();\r\n    // === THREE.JS EXAMPLE CODE END ===\r\n  }\r\n\r\n  componentDidUpdate(){\r\n  //  console.log(scene);\r\n    clearThree(scene);\r\n    loadSVG('public/sig.svg', true);\r\n    // this.props.renderDrawing({\r\n    //   fileString: 'sig',\r\n    //   extrude: 'extrude'\r\n    // });\r\n    // scene.add(this.props.currentMesh);\r\n    animate();\r\n   \r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <div ref={ref => (this.mount = ref)} />\r\n        <button\r\n          className='btn btn-block btn-primary'\r\n          onClick={e => clearThree(scene)}\r\n        >\r\n          Clear Canvas\r\n        </button>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    currentMesh: state.currentMesh,\r\n    timeStamp: state.timeStamp\r\n  };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return bindActionCreators({ renderDrawing }, dispatch);\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Shape);","import React, { Component } from 'react';\r\n// import {  } from '../actions';\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport THREE from \"../three\";\r\n\r\n\r\nclass WorkingShape extends Component {\r\n  componentDidMount() {\r\n    // === THREE.JS CODE START ===\r\n    var scene = new THREE.Scene();\r\n    var camera = new THREE.PerspectiveCamera(75, ((window.innerWidth * 0.5) - (window.innerWidth * 0.1)) / ((window.innerHeight * 0.5)), 0.1, 1000);\r\n    var renderer = new THREE.WebGLRenderer();\r\n    renderer.setSize(((window.innerWidth * 0.5) - (window.innerWidth * 0.1)), ((window.innerHeight * 0.5)));\r\n    // document.body.appendChild( renderer.domElement );\r\n    // // use ref as a mount point of the Three.js scene instead of the document.body\r\n    this.mount.appendChild(renderer.domElement);\r\n    var geometry = new THREE.BoxGeometry(3, 3, 3);\r\n    var material = new THREE.MeshBasicMaterial({ color: 0xff00ff });\r\n    var cube = new THREE.Mesh(geometry, material);\r\n    scene.add(cube);\r\n    camera.position.z = 5;\r\n    var animate = function () {\r\n      requestAnimationFrame(animate);\r\n      cube.rotation.x += 0.01;\r\n      cube.rotation.y += 0.01;\r\n      renderer.render(scene, camera);\r\n    };\r\n    animate();\r\n\r\n    // === THREE.JS EXAMPLE CODE END ===\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div ref={ref => (this.mount = ref)} />\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    // products: state.products,\r\n    // categories: state.categories\r\n  };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return bindActionCreators({}, dispatch);\r\n}\r\n\r\nexport default connect(null, null)(WorkingShape);","import React, { Component } from 'react';\r\n// import {  } from '../actions';\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport Canvas from './Canvas';\r\nimport Shape from './Shape';\r\nimport WorkingShape from './WorkingShape';\r\n\r\nclass App extends Component {\r\n  constructor(props){\r\n    super(props);\r\n\r\n  }\r\n  \r\n\r\n  render() {\r\n    return (\r\n      <div className='container main-app'>\r\n        <div className='jumbotron text-center mt-4'>\r\n          <h1>Working Title</h1>\r\n        </div>\r\n        <div className='row mb-4'>\r\n          <div className='col-md-12 text-center'>\r\n            <p> We'll probably put some user info here?</p>\r\n          </div>\r\n        </div>\r\n        <div className='row'>\r\n          <div className='col-md-6 mb-4'>\r\n            <Shape />\r\n          </div>\r\n          <div className='col-md-6 canvas text-center mb-5'>\r\n            <Canvas />\r\n          </div>\r\n        </div>\r\n        <div className='row'>\r\n          <div className='col-md-8 offset-md-1'>\r\n            \r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    // products: state.products,\r\n    // categories: state.categories\r\n  };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return bindActionCreators({  }, dispatch);\r\n}\r\n\r\nexport default connect(null, null)(App);","import { combineReducers } from \"redux\";\r\nimport shapeReducer from \"./shapeReducer\";\r\nimport canvasReducer from './canvasReducer';\r\n\r\nconst rootReducer = combineReducers({\r\n  // products: ProductReducer,\r\n  timeStamp: canvasReducer,\r\n  currentMesh: shapeReducer\r\n});\r\n\r\nexport default rootReducer;","import CacheManager from '../cache'\r\nimport { RENDER_DRAWING } from \"../actions\";\r\nconst cache = new CacheManager();\r\n\r\nexport default function (state = {}, action) {\r\n  switch (action.type) {\r\n    case RENDER_DRAWING:\r\n      // let newState = {\r\n      //   ...state,\r\n      //   filters: [...state.filters, action.filter]\r\n      // }\r\n      // cache.writeData('state', newState)\r\n      let newMesh = action.payload.data;\r\n      return newMesh\r\n  default:\r\n    return state;\r\n  }\r\n}","import CacheManager from '../cache'\r\nimport { SAVE_DRAWING } from \"../actions\";\r\nconst cache = new CacheManager();\r\n\r\nexport default function (state = {}, action) {\r\n  switch (action.type) {\r\n    case SAVE_DRAWING:\r\n      // let newState = {\r\n      //   ...state,\r\n      //   filters: [...state.filters, action.filter]\r\n      // }\r\n      // cache.writeData('state', newState)\r\n      let newState = {timeStamp: new Date()}\r\n      return newState\r\n  default:\r\n    return state;\r\n  }\r\n}","import React, { Fragment } from 'react';\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport { render } from \"react-dom\";\nimport App from './components/App';\nimport { Provider } from \"react-redux\";\nimport { createStore, applyMiddleware } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport rootReducer from \"./reducers/index\";\nimport 'bootstrap/dist/css/bootstrap.css';\nimport './index.css';\n\nconst store = createStore(rootReducer, {}, applyMiddleware(thunk));\n\nrender(\n  <Provider store={store}>\n    <Router>\n      <>\n        <App />\n      </>\n    </Router>\n  </Provider>,\n  document.getElementById(\"root\")\n);"],"sourceRoot":""}