(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{36:function(e,t,n){e.exports=n(70)},68:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(35),o=n(14),c=n(4),l=n(7),s=n(9),u=n(8),d=n(10),m=n(5),h=n(1),p=n(18),f=n.n(p),w=function(e){return function(t){f.a.post("public/sig.svg",{data:e}).then(function(e){t({type:"SAVE_DRAWING",payload:e.data})}).catch(function(e){console.log(e)})}},v=function(e){return function(t){var n="".concat("http://localhost:8000/","?"),a="",r=e.fileString,i=e.extrude;r&&(a+="file=".concat(r,"&")),i&&(a+="extrude=".concat(i,"&")),a.length>0&&(n+=a),f.a.get(n).then(function(e){console.log(e),t({type:"RENDER_DRAWING",payload:e.data})}).catch(function(e){console.log(e)})}},b=n(12),g=n.n(b),y=function e(){Object(c.a)(this,e),this.writeData=function(e,t){return g.a.setItem(e,t)},this.readData=function(e){return g.a.getItem(e)},this.removeData=function(e){return g.a.removeItem(e)},this.clear=function(){return g.a.clear()}},E=n(31),O=n.n(E),j=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).clear=function(){n.sigPad.clear()},n.renderDrawing=function(){n.setState({svgDataURL:n.sigPad.toDataURL("image/svg+xml")},function(){var e=n.state.svgDataURL.split(",");n.props.updateDrawing(atob(e[1]))})},n.cache=new y,n.state={svgDataURL:null},n.sigPad={},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container float-right"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 pr-3"},r.a.createElement(O.a,{ref:function(t){e.sigPad=t},penColor:"black",backgroundColor:"rgb(255,255,255)",canvasProps:{width:300,height:300,minwidth:30,maxwidth:35,mindistance:10,throttle:0,className:"sigCanvas offset-md-2 mb-2"}}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"offset-md-4"},r.a.createElement("button",{className:"btn btn-secondary btn-md",onClick:this.clear},"Clear"),"|",r.a.createElement("button",{className:"btn btn-success btn-md",onClick:this.renderDrawing},"Render")))))}}]),t}(a.Component);var D=Object(m.b)(function(e){return{timeStamp:e.timeStamp}},function(e){return Object(h.b)({updateDrawing:w},e)})(j),S=n(32);window.THREE=S,n(64),n(65),n(66);var N=window.THREE,k=new N.Scene;k.background=new N.Color(11579568);var C=new N.GridHelper(160,10);C.rotation.x=Math.PI/2,k.add(C);var M=new N.PerspectiveCamera(50,(.5*window.innerWidth-.1*window.innerWidth)/(.5*window.innerHeight),1,1e3);M.position.set(0,0,200);var x=new N.WebGLRenderer({antialias:!0});x.setPixelRatio(window.devicePixelRatio),x.setSize(.5*window.innerWidth-.1*window.innerWidth,.5*window.innerHeight),new N.OrbitControls(M,x.domElement).screenSpacePanning=!0;var R=new N.SVGLoader,W=function e(){requestAnimationFrame(e),x.render(k,M)},P=function e(t){for(;t.children.length>1;)e(t.children[t.children.length-1]),t.remove(t.children[t.children.length-1]);t.geometry&&t.geometry.dispose(),t.material&&t.material.dispose(),t.texture&&t.texture.dispose()},G=function(e){for(var t=e.filter(function(e){return 0!==e}),n=[],a=0;a<t.length;a+=2){var r=new N.Vector2(t[a],t[a+1]);n.push(r)}return n},I=function(e,t){R.load(e,function(e){var n,a=e.paths,r=new N.Group,i={depth:10,steps:1,bevelEnabled:!1,bevelThickness:2,bevelSize:4,bevelSegments:1};t?(n=.6,r.position.x=-85,r.position.y=85):(n=.25,r.position.x=-70,r.position.y=70),r.scale.multiplyScalar(n),r.scale.y*=-1;for(var o=0;o<a.length;o++){if(t&&0===o){var c=new N.CylinderBufferGeometry(135,135,5,64),l=new N.MeshBasicMaterial({color:65535,opacity:.3,transparent:!0,side:N.FrontSide,depthWrite:!1}),s=new N.Mesh(c,l);s.position.set(-r.position.x*(1+r.scale.x)+5,r.position.y*(1-r.scale.y)+5,2.5),s.rotation.set(Math.PI/2,0,0),r.add(s)}var u=a[o],d=u.userData.style.fill;if(void 0!==d&&"none"!==d)for(var m=new N.MeshBasicMaterial({color:(new N.Color).setStyle(d),opacity:u.userData.style.fillOpacity,transparent:u.userData.style.fillOpacity<1,side:N.DoubleSide,depthWrite:!1}),h=u.toShapes(!0),p=0;p<h.length;p++){var f=h[p],w=new N.ShapeBufferGeometry(f),v=new N.Mesh(w,m);r.add(v)}var b=u.userData.style.stroke;if(void 0!==b&&"none"!==b){for(var g=new N.MeshBasicMaterial({color:(new N.Color).setStyle(b),opacity:u.userData.style.strokeOpacity,transparent:u.userData.style.strokeOpacity<1,side:N.DoubleSide,depthWrite:!1}),y=0,E=u.subPaths.length;y<E;y++){var O,j,D,S=u.subPaths[y];if(t){if(y<u.subPaths.length){O=new N.SVGLoader.pointsToStroke(S.getPoints(),u.userData.style);for(var C=G(O.attributes.position.array),M=0;M<C.length;M+=3){var x=new N.Shape([C[M],C[M+1],C[M+2]]);x&&(D=new N.ExtrudeBufferGeometry(x,i),j=new N.Mesh(D,g),r.add(j))}}}else y<u.subPaths.length&&(O=new N.SVGLoader.pointsToStroke(S.getPoints(),u.userData.style))&&(j=new N.Mesh(O,g),r.add(j))}k.add(r)}}},function(e){},function(e){console.log("An error happened")})},A=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={circle:!0},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.mount.appendChild(x.domElement),I("public/tiger.svg",!1),W()}},{key:"componentDidUpdate",value:function(){P(k),I("public/sig.svg",!0),W()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{ref:function(t){return e.mount=t}}),r.a.createElement("button",{className:"btn btn-block btn-primary",onClick:function(e){return P(k)}},"Clear Canvas"))}}]),t}(a.Component);var B=Object(m.b)(function(e){return{currentMesh:e.currentMesh,timeStamp:e.timeStamp}},function(e){return Object(h.b)({renderDrawing:v},e)})(A),L=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=new N.Scene,t=new N.PerspectiveCamera(75,(.5*window.innerWidth-.1*window.innerWidth)/(.5*window.innerHeight),.1,1e3),n=new N.WebGLRenderer;n.setSize(.5*window.innerWidth-.1*window.innerWidth,.5*window.innerHeight),this.mount.appendChild(n.domElement);var a=new N.BoxGeometry(3,3,3),r=new N.MeshBasicMaterial({color:16711935}),i=new N.Mesh(a,r);e.add(i),t.position.z=5;!function a(){requestAnimationFrame(a),i.rotation.x+=.01,i.rotation.y+=.01,n.render(e,t)}()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{ref:function(t){return e.mount=t}})}}]),t}(a.Component);Object(m.b)(null,null)(L);var H=function(e){function t(e){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).call(this,e))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container main-app"},r.a.createElement("div",{className:"jumbotron text-center mt-4"},r.a.createElement("h1",null,"Working Title")),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-12 text-center"},r.a.createElement("p",null," We'll probably put some user info here?"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement(B,null)),r.a.createElement("div",{className:"col-md-6 canvas"},r.a.createElement(D,null))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8 offset-md-1"})))}}]),t}(a.Component);var T=Object(m.b)(null,null)(H),V=n(33),F=(new y,new y,Object(h.c)({timeStamp:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};switch((arguments.length>1?arguments[1]:void 0).type){case"SAVE_DRAWING":return{timeStamp:new Date};default:return e}},currentMesh:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RENDER_DRAWING":return t.payload.data;default:return e}}})),U=(n(67),n(68),Object(h.d)(F,{},Object(h.a)(V.a)));Object(o.render)(r.a.createElement(m.a,{store:U},r.a.createElement(i.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(T,null)))),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.a9103cdc.chunk.js.map